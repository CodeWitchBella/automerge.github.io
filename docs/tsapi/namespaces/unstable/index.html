<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Automerge CRDT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Automerge CRDT Atom Feed"><title data-react-helmet="true">Namespace: unstable | Automerge CRDT</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://automerge.github.io//docs/tsapi/namespaces/unstable/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Namespace: unstable | Automerge CRDT"><meta data-react-helmet="true" name="description" content="This module contains new features we are working on which are either not yet"><meta data-react-helmet="true" property="og:description" content="This module contains new features we are working on which are either not yet"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://automerge.github.io//docs/tsapi/namespaces/unstable/"><link data-react-helmet="true" rel="alternate" href="https://automerge.github.io//docs/tsapi/namespaces/unstable/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://automerge.github.io//docs/tsapi/namespaces/unstable/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1ebcc96c.css">
<link rel="preload" href="/assets/js/runtime~main.e8eab814.js" as="script">
<link rel="preload" href="/assets/js/main.e2ff72e2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/automerge.png" alt="Automerge logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/automerge.png" alt="Automerge logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Automerge</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/hello/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/automerge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/hello/">Welcome to Automerge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quickstart/">5-Minute Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Types</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cookbook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Internals</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API Docs</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tsapi/index/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Namespaces</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tsapi/namespaces/unstable/">unstable</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Classes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Interfaces</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/api/">Other APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary/">Glossary</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>The unstable API</h1></header><p>This module contains new features we are working on which are either not yet
ready for a stable release and/or which will result in backwards incompatible
API changes. The API of this module may change in arbitrary ways between
point releases - we will always document what these changes are in the
<a href="#changelog">CHANGELOG</a> below, but only depend on this module if you are prepared to deal
with frequent changes.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="differences-from-stable">Differences from stable<a aria-hidden="true" class="hash-link" href="#differences-from-stable" title="Direct link to heading">â€‹</a></h2><p>In the stable API text objects are represented using the <a href="/docs/tsapi/classes/Text/">Text</a> class.
This means you must decide up front whether your string data might need
concurrent merges in the future and if you change your mind you have to
figure out how to migrate your data. In the unstable API the <code>Text</code> class is
gone and all <code>string</code>s are represented using the text CRDT, allowing for
concurrent changes. Modifying a string is done using the <a href="/docs/tsapi/namespaces/unstable/#splice">splice</a>
function. You can still access the old behaviour of strings which do not
support merging behaviour via the <a href="/docs/tsapi/classes/unstable.RawString/">RawString</a> class.</p><p>This leads to the following differences from <code>stable</code>:</p><ul><li>There is no <code>unstable.Text</code> class, all strings are text objects</li><li>Reading strings in an <code>unstable</code> document is the same as reading any other
javascript string</li><li>To modify strings in an <code>unstable</code> document use <a href="/docs/tsapi/namespaces/unstable/#splice">splice</a></li><li>The <a href="/docs/tsapi/namespaces/unstable/#automergevalue">AutomergeValue</a> type does not include the <a href="/docs/tsapi/classes/Text/">Text</a>
class but the  <a href="/docs/tsapi/classes/unstable.RawString/">RawString</a> class is included in the <a href="/docs/tsapi/namespaces/unstable/#scalarvalue">ScalarValue</a>
type</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="changelog">CHANGELOG<a aria-hidden="true" class="hash-link" href="#changelog" title="Direct link to heading">â€‹</a></h2><ul><li>Introduce this module to expose the new API which has no <code>Text</code> class</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="classes">Classes<a aria-hidden="true" class="hash-link" href="#classes" title="Direct link to heading">â€‹</a></h2><ul><li><a href="/docs/tsapi/classes/unstable.Counter/">Counter</a></li><li><a href="/docs/tsapi/classes/unstable.Float64/">Float64</a></li><li><a href="/docs/tsapi/classes/unstable.Int/">Int</a></li><li><a href="/docs/tsapi/classes/unstable.RawString/">RawString</a></li><li><a href="/docs/tsapi/classes/unstable.Uint/">Uint</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="type-aliases">Type Aliases<a aria-hidden="true" class="hash-link" href="#type-aliases" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="applyoptions">ApplyOptions<a aria-hidden="true" class="hash-link" href="#applyoptions" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>ApplyOptions</strong>&lt;<code>T</code>&gt;<!-- -->: <code>Object</code></p><p>Options passed to <a href="/docs/tsapi/namespaces/unstable/#loadincremental">loadIncremental</a>, <a href="/docs/tsapi/namespaces/unstable/#applychanges">applyChanges</a>, and <a href="/docs/tsapi/namespaces/unstable/#receivesyncmessage">receiveSyncMessage</a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of value contained in the document</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>patchCallback?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#patchcallback"><code>PatchCallback</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L74" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:74</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="automergevalue">AutomergeValue<a aria-hidden="true" class="hash-link" href="#automergevalue" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>AutomergeValue</strong>: <a href="/docs/tsapi/namespaces/unstable/#scalarvalue"><code>ScalarValue</code></a> <!-- -->|<!-- --> { <code>[key: string]</code>: <a href="/docs/tsapi/namespaces/unstable/#automergevalue"><code>AutomergeValue</code></a>;  } <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#automergevalue"><code>AutomergeValue</code></a>[]</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-1">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-1" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable_types.ts#L16" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable_types.ts:16</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="changefn">ChangeFn<a aria-hidden="true" class="hash-link" href="#changefn" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>ChangeFn</strong>&lt;<code>T</code>&gt;<!-- -->: (<code>doc</code>: <a href="/docs/tsapi/namespaces/#extend"><code>Extend</code></a>&lt;<code>T</code>&gt;<!-- -->) =&gt; <code>void</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-1">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-1" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of value contained in the document This function may mutate <code>doc</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-1">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-1" title="Direct link to heading">â€‹</a></h4><p>â–¸ (<code>doc</code>): <code>void</code></p><p>Function which is called by <a href="/docs/tsapi/namespaces/unstable/#change">change</a> when making changes to a <code>Doc&lt;T&gt;</code></p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="parameters">Parameters<a aria-hidden="true" class="hash-link" href="#parameters" title="Direct link to heading">â€‹</a></h5><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/#extend"><code>Extend</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_y2LR" id="returns">Returns<a aria-hidden="true" class="hash-link" href="#returns" title="Direct link to heading">â€‹</a></h5><p><code>void</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-2">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-2" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L105" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:105</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="changeoptions">ChangeOptions<a aria-hidden="true" class="hash-link" href="#changeoptions" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>ChangeOptions</strong>&lt;<code>T</code>&gt;<!-- -->: <code>Object</code></p><p>Options passed to <a href="/docs/tsapi/namespaces/unstable/#change">change</a>, and <a href="/docs/tsapi/namespaces/unstable/#emptychange">emptyChange</a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-2">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-2" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of value contained in the document</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-2">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-2" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>message?</code></td><td align="left"><code>string</code></td><td align="left">A message which describes the changes</td></tr><tr><td align="left"><code>patchCallback?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#patchcallback"><code>PatchCallback</code></a>&lt;<code>T</code>&gt;</td><td align="left">A callback which will be called to notify the caller of any changes to the document</td></tr><tr><td align="left"><code>time?</code></td><td align="left"><code>number</code></td><td align="left">The unix timestamp of the change (purely advisory, not used in conflict resolution)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-3">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-3" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L62" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:62</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="delpatch">DelPatch<a aria-hidden="true" class="hash-link" href="#delpatch" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>DelPatch</strong>: <code>Object</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-3">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-3" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left"><code>&quot;del&quot;</code></td></tr><tr><td align="left"><code>length?</code></td><td align="left"><code>number</code></td></tr><tr><td align="left"><code>path</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a>[]</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-4">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-4" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:112</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="doc">Doc<a aria-hidden="true" class="hash-link" href="#doc" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>Doc</strong>&lt;<code>T</code>&gt;<!-- -->: { readonly <!-- -->[P in keyof T]<!-- -->: T<!-- -->[P]<!-- --> }</p><p>An automerge document.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-3">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-3" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of the value contained in this document Note that this provides read only access to the fields of the value. To modify the value use <a href="/docs/tsapi/namespaces/unstable/#change">change</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-5">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-5" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/types.ts#L33" target="_blank" rel="noopener noreferrer">automerge/javascript/src/types.ts:33</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="incpatch">IncPatch<a aria-hidden="true" class="hash-link" href="#incpatch" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>IncPatch</strong>: <code>Object</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-4">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-4" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left"><code>&quot;inc&quot;</code></td></tr><tr><td align="left"><code>path</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a>[]</td></tr><tr><td align="left"><code>value</code></td><td align="left"><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-6">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-6" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:106</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="initoptions">InitOptions<a aria-hidden="true" class="hash-link" href="#initoptions" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>InitOptions</strong>&lt;<code>T</code>&gt;<!-- -->: <code>Object</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-4">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-4" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-5">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-5" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>actor?</code></td><td align="left"><a href="/docs/tsapi/namespaces/#actorid"><code>ActorId</code></a></td><td align="left">The actor ID to use for this document, a random one will be generated if <code>null</code> is passed</td></tr><tr><td align="left"><code>freeze?</code></td><td align="left"><code>boolean</code></td><td align="left">-</td></tr><tr><td align="left"><code>patchCallback?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#patchcallback"><code>PatchCallback</code></a>&lt;<code>T</code>&gt;</td><td align="left">A callback which will be called with the initial patch once the document has finished loading</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-7">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-7" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L98" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:98</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="insertpatch">InsertPatch<a aria-hidden="true" class="hash-link" href="#insertpatch" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>InsertPatch</strong>: <code>Object</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-6">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-6" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left"><code>&quot;insert&quot;</code></td></tr><tr><td align="left"><code>path</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a>[]</td></tr><tr><td align="left"><code>values</code></td><td align="left"><code>Value</code>[]</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-8">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-8" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:124</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="patch">Patch<a aria-hidden="true" class="hash-link" href="#patch" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>Patch</strong>: <a href="/docs/tsapi/namespaces/unstable/#putpatch"><code>PutPatch</code></a> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#delpatch"><code>DelPatch</code></a> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#splicetextpatch"><code>SpliceTextPatch</code></a> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#incpatch"><code>IncPatch</code></a> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#insertpatch"><code>InsertPatch</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-9">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-9" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:97</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="patchcallback">PatchCallback<a aria-hidden="true" class="hash-link" href="#patchcallback" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>PatchCallback</strong>&lt;<code>T</code>&gt;<!-- -->: (<code>patches</code>: <a href="/docs/tsapi/namespaces/unstable/#patch"><code>Patch</code></a>[], <code>before</code>: <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;<!-- -->, <code>after</code>: <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;<!-- -->) =&gt; <code>void</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-5">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-5" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-7">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-7" title="Direct link to heading">â€‹</a></h4><p>â–¸ (<code>patches</code>, <code>before</code>, <code>after</code>): <code>void</code></p><p>Callback which is called by various methods in this library to notify the
user of what changes have been made.</p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-1">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-1" title="Direct link to heading">â€‹</a></h5><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>patches</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#patch"><code>Patch</code></a>[]</td><td align="left">-</td></tr><tr><td align="left"><code>before</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document before the change was made</td></tr><tr><td align="left"><code>after</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document after the change was made</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_y2LR" id="returns-1">Returns<a aria-hidden="true" class="hash-link" href="#returns-1" title="Direct link to heading">â€‹</a></h5><p><code>void</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-10">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-10" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/types.ts#L42" target="_blank" rel="noopener noreferrer">automerge/javascript/src/types.ts:42</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="putpatch">PutPatch<a aria-hidden="true" class="hash-link" href="#putpatch" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>PutPatch</strong>: <code>Object</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-8">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-8" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left"><code>&quot;put&quot;</code></td></tr><tr><td align="left"><code>conflict</code></td><td align="left"><code>boolean</code></td></tr><tr><td align="left"><code>path</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a>[]</td></tr><tr><td align="left"><code>value</code></td><td align="left"><code>Value</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-11">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-11" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:99</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="scalarvalue">ScalarValue<a aria-hidden="true" class="hash-link" href="#scalarvalue" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>ScalarValue</strong>: <code>string</code> <!-- -->|<!-- --> <code>number</code> <!-- -->|<!-- --> <code>null</code> <!-- -->|<!-- --> <code>boolean</code> <!-- -->|<!-- --> <code>Date</code> <!-- -->|<!-- --> <a href="/docs/tsapi/classes/unstable.Counter/"><code>Counter</code></a> <!-- -->|<!-- --> <code>Uint8Array</code> <!-- -->|<!-- --> <a href="/docs/tsapi/classes/unstable.RawString/"><code>RawString</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-12">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-12" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable_types.ts#L22" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable_types.ts:22</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="splicetextpatch">SpliceTextPatch<a aria-hidden="true" class="hash-link" href="#splicetextpatch" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>SpliceTextPatch</strong>: <code>Object</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-declaration-9">Type declaration<a aria-hidden="true" class="hash-link" href="#type-declaration-9" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left"><code>&quot;splice&quot;</code></td></tr><tr><td align="left"><code>path</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a>[]</td></tr><tr><td align="left"><code>value</code></td><td align="left"><code>string</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-13">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-13" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:118</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="syncmessage">SyncMessage<a aria-hidden="true" class="hash-link" href="#syncmessage" title="Direct link to heading">â€‹</a></h3><p>Æ¬ <strong>SyncMessage</strong>: <code>Uint8Array</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-14">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-14" title="Direct link to heading">â€‹</a></h4><p>node_modules/@automerge/automerge-wasm/index.d.ts:4</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="functions">Functions<a aria-hidden="true" class="hash-link" href="#functions" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="applychanges">applyChanges<a aria-hidden="true" class="hash-link" href="#applychanges" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>applyChanges</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>changes</code>, <code>opts?</code>): [<a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;<!-- -->]</p><p>Apply changes received from another document</p><p><code>doc</code> will be updated to reflect the <code>changes</code>. If there are changes which
we do not have dependencies for yet those will be stored in the document and
applied when the depended on changes arrive.</p><p>You can use the <a href="/docs/tsapi/namespaces/unstable/#applyoptions">ApplyOptions</a> to pass a patchcallback which will be
informed of any changes which occur as a result of applying the changes</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-6">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-6" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-2">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-2" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr><tr><td align="left"><code>changes</code></td><td align="left"><code>Uint8Array</code>[]</td></tr><tr><td align="left"><code>opts?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#applyoptions"><code>ApplyOptions</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-2">Returns<a aria-hidden="true" class="hash-link" href="#returns-2" title="Direct link to heading">â€‹</a></h4><p>[<a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;<!-- -->]</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-15">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-15" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L696" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:696</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="change">change<a aria-hidden="true" class="hash-link" href="#change" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>change</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>options</code>, <code>callback?</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Update the contents of an automerge document</p><p><strong><code>Example</code></strong></p><p>A simple change</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">let doc1 = automerge.init()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc1 = automerge.change(doc1, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.key = &quot;value&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assert.equal(doc1.key, &quot;value&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong><code>Example</code></strong></p><p>A change with a message</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">doc1 = automerge.change(doc1, &quot;add another value&quot;, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.key2 = &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong><code>Example</code></strong></p><p>A change with a message and a timestamp</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">doc1 = automerge.change(doc1, {message: &quot;add another value&quot;, timestamp: 1640995200}, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.key2 = &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong><code>Example</code></strong></p><p>responding to a patch callback</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">let patchedPath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let patchCallback = patch =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   patchedPath = patch.path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc1 = automerge.change(doc1, {message, &quot;add another value&quot;, timestamp: 1640995200, patchCallback}, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.key2 = &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assert.equal(patchedPath, [&quot;key2&quot;])</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-7">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-7" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of the value contained in the document</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-3">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-3" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document to update</td></tr><tr><td align="left"><code>options</code></td><td align="left"><code>string</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#changeoptions"><code>ChangeOptions</code></a>&lt;<code>T</code>&gt;<!-- --> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#changefn"><code>ChangeFn</code></a>&lt;<code>T</code>&gt;</td><td align="left">Either a message, an <a href="/docs/tsapi/namespaces/unstable/#changeoptions">ChangeOptions</a>, or a <a href="/docs/tsapi/namespaces/unstable/#changefn">ChangeFn</a></td></tr><tr><td align="left"><code>callback?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#changefn"><code>ChangeFn</code></a>&lt;<code>T</code>&gt;</td><td align="left">A <code>ChangeFn</code> to be used if <code>options</code> was a <code>string</code> Note that if the second argument is a function it will be used as the <code>ChangeFn</code> regardless of what the third argument is.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-3">Returns<a aria-hidden="true" class="hash-link" href="#returns-3" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-16">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-16" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L314" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:314</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="clone">clone<a aria-hidden="true" class="hash-link" href="#clone" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>clone</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>_opts?</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Make a full writable copy of an automerge document</p><p><strong><code>Remarks</code></strong></p><p>Unlike <a href="/docs/tsapi/namespaces/unstable/#view">view</a> this function makes a full copy of the memory backing
the document and can thus be passed to <a href="/docs/tsapi/namespaces/unstable/#change">change</a>. It also generates a
new actor ID so that changes made in the new document do not create duplicate
sequence numbers with respect to the old document. If you need control over
the actor ID which is generated you can pass the actor ID as the second
argument</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-8">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-8" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of the value contained in the document</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-4">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-4" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document to clone</td></tr><tr><td align="left"><code>_opts?</code></td><td align="left"><code>string</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#initoptions"><code>InitOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">Either an actor ID to use for the new doc or an <a href="/docs/tsapi/namespaces/unstable/#initoptions">InitOptions</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-4">Returns<a aria-hidden="true" class="hash-link" href="#returns-4" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-17">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-17" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L145" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:145</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="emptychange">emptyChange<a aria-hidden="true" class="hash-link" href="#emptychange" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>emptyChange</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>options</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Make a change to a document which does not modify the document</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-9">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-9" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-5">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-5" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The doc to add the empty change to</td></tr><tr><td align="left"><code>options</code></td><td align="left"><code>string</code> <!-- -->|<!-- --> <code>void</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#changeoptions"><code>ChangeOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">Either a message or a <a href="/docs/tsapi/namespaces/unstable/#changeoptions">ChangeOptions</a> for the new change Why would you want to do this? One reason might be that you have merged changes from some other peers and you want to generate a change which depends on those merged changes so that you can sign the new change with all of the merged changes as part of the new change.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-5">Returns<a aria-hidden="true" class="hash-link" href="#returns-5" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-18">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-18" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L402" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:402</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="free">free<a aria-hidden="true" class="hash-link" href="#free" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>free</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>): <code>void</code></p><p>Explicity free the memory backing a document. Note that this is note
necessary in environments which support
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry" target="_blank" rel="noopener noreferrer"><code>FinalizationRegistry</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-10">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-10" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-6">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-6" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-6">Returns<a aria-hidden="true" class="hash-link" href="#returns-6" title="Direct link to heading">â€‹</a></h4><p><code>void</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-19">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-19" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L241" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:241</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="from">from<a aria-hidden="true" class="hash-link" href="#from" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>from</strong>&lt;<code>T</code>&gt;<!-- -->(<code>initialState</code>, <code>_opts?</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Create an automerge document from a POJO</p><p><strong><code>Example</code></strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">const doc = automerge.from({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tasks: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {description: &quot;feed dogs&quot;, done: false}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-11">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-11" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">extends <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td align="left">The type of the value passed to <code>from</code> <em>and</em> the type the resulting document will contain</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-7">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-7" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>initialState</code></td><td align="left"><code>T</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The initial state which will be copied into the document</td></tr><tr><td align="left"><code>_opts?</code></td><td align="left"><code>string</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#initoptions"><code>InitOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">-</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-7">Returns<a aria-hidden="true" class="hash-link" href="#returns-7" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-20">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-20" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L170" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:170</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getactorid">getActorId<a aria-hidden="true" class="hash-link" href="#getactorid" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getActorId</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>): <a href="/docs/tsapi/namespaces/#actorid"><code>ActorId</code></a></p><p>Get the actor ID associated with the document</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-12">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-12" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-8">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-8" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-8">Returns<a aria-hidden="true" class="hash-link" href="#returns-8" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#actorid"><code>ActorId</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-21">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-21" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L553" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:553</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getallchanges">getAllChanges<a aria-hidden="true" class="hash-link" href="#getallchanges" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getAllChanges</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>): <a href="/docs/tsapi/namespaces/#change"><code>Change</code></a>[]</p><p>Get all the changes in a document</p><p>This is different to <a href="/docs/tsapi/namespaces/unstable/#save">save</a> because the output is an array of changes
which can be individually applied via <a href="/docs/tsapi/namespaces/unstable/#applychanges">applyChanges</a>`</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-13">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-13" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-9">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-9" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-9">Returns<a aria-hidden="true" class="hash-link" href="#returns-9" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#change"><code>Change</code></a>[]</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-22">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-22" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L680" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:680</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getchanges">getChanges<a aria-hidden="true" class="hash-link" href="#getchanges" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getChanges</strong>&lt;<code>T</code>&gt;<!-- -->(<code>oldState</code>, <code>newState</code>): <a href="/docs/tsapi/namespaces/#change"><code>Change</code></a>[]</p><p>Get the changes which are in <code>newState</code> but not in <code>oldState</code>. The returned
changes can be loaded in <code>oldState</code> via <a href="/docs/tsapi/namespaces/unstable/#applychanges">applyChanges</a>.</p><p>Note that this will crash if there are changes in <code>oldState</code> which are not in <code>newState</code>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-14">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-14" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-10">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-10" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>oldState</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr><tr><td align="left"><code>newState</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-10">Returns<a aria-hidden="true" class="hash-link" href="#returns-10" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#change"><code>Change</code></a>[]</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-23">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-23" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L668" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:668</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getconflicts">getConflicts<a aria-hidden="true" class="hash-link" href="#getconflicts" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getConflicts</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>prop</code>): <code>Conflicts</code> <!-- -->|<!-- --> <code>undefined</code></p><p>Get the conflicts associated with a property</p><p>The values of properties in a map in automerge can be conflicted if there
are concurrent &quot;put&quot; operations to the same key. Automerge chooses one value
arbitrarily (but deterministically, any two nodes who have the same set of
changes will choose the same value) from the set of conflicting values to
present as the value of the key.</p><p>Sometimes you may want to examine these conflicts, in this case you can use
<a href="/docs/tsapi/namespaces/unstable/#getconflicts">getConflicts</a> to get the conflicts for the key.</p><p><strong><code>Example</code></strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import * as automerge from &quot;@automerge/automerge&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Profile = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pets: Array&lt;{name: string, type: string}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let doc1 = automerge.init&lt;Profile&gt;(&quot;aaaa&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc1 = automerge.change(doc1, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.pets = [{name: &quot;Lassie&quot;, type: &quot;dog&quot;}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let doc2 = automerge.init&lt;Profile&gt;(&quot;bbbb&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc2 = automerge.merge(doc2, automerge.clone(doc1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc2 = automerge.change(doc2, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.pets[0].name = &quot;Beethoven&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc1 = automerge.change(doc1, d =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d.pets[0].name = &quot;Babe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const doc3 = automerge.merge(doc1, doc2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Note that here we pass `doc3.pets`, not `doc3`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let conflicts = automerge.getConflicts(doc3.pets[0], &quot;name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The two conflicting values are the keys of the conflicts object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assert.deepEqual(Object.values(conflicts), [&quot;Babe&quot;, Beethoven&quot;])</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-15">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-15" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-11">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-11" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr><tr><td align="left"><code>prop</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-11">Returns<a aria-hidden="true" class="hash-link" href="#returns-11" title="Direct link to heading">â€‹</a></h4><p><code>Conflicts</code> <!-- -->|<!-- --> <code>undefined</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-24">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-24" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L280" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:280</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getheads">getHeads<a aria-hidden="true" class="hash-link" href="#getheads" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getHeads</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>): <a href="/docs/tsapi/namespaces/#heads"><code>Heads</code></a></p><p>Get the hashes of the heads of this document</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-16">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-16" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-12">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-12" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-12">Returns<a aria-hidden="true" class="hash-link" href="#returns-12" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#heads"><code>Heads</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-25">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-25" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L889" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:889</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getlastlocalchange">getLastLocalChange<a aria-hidden="true" class="hash-link" href="#getlastlocalchange" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getLastLocalChange</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>): <a href="/docs/tsapi/namespaces/#change"><code>Change</code></a> <!-- -->|<!-- --> <code>undefined</code></p><p>Get the binary representation of the last change which was made to this doc</p><p>This is most useful when staying in sync with other peers, every time you
make a change locally via <a href="/docs/tsapi/namespaces/unstable/#change">change</a> you immediately call <a href="/docs/tsapi/namespaces/unstable/#getlastlocalchange">getLastLocalChange</a> and send the result over the network to other peers.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-17">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-17" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-13">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-13" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-13">Returns<a aria-hidden="true" class="hash-link" href="#returns-13" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#change"><code>Change</code></a> <!-- -->|<!-- --> <code>undefined</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-26">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-26" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L637" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:637</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getmissingdeps">getMissingDeps<a aria-hidden="true" class="hash-link" href="#getmissingdeps" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getMissingDeps</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>heads</code>): <a href="/docs/tsapi/namespaces/#heads"><code>Heads</code></a></p><p>Get any changes in <code>doc</code> which are not dependencies of <code>heads</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-18">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-18" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-14">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-14" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr><tr><td align="left"><code>heads</code></td><td align="left"><a href="/docs/tsapi/namespaces/#heads"><code>Heads</code></a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-14">Returns<a aria-hidden="true" class="hash-link" href="#returns-14" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#heads"><code>Heads</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-27">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-27" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L881" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:881</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="getobjectid">getObjectId<a aria-hidden="true" class="hash-link" href="#getobjectid" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>getObjectId</strong>(<code>doc</code>, <code>prop?</code>): <a href="/docs/tsapi/namespaces/#objid"><code>ObjID</code></a> <!-- -->|<!-- --> <code>null</code></p><p>Return the object ID of an arbitrary javascript value</p><p>This is useful to determine if something is actually an automerge document,
if <code>doc</code> is not an automerge document this will return null.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-15">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-15" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><code>any</code></td></tr><tr><td align="left"><code>prop?</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-15">Returns<a aria-hidden="true" class="hash-link" href="#returns-15" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/#objid"><code>ObjID</code></a> <!-- -->|<!-- --> <code>null</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-28">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-28" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L649" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:649</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="init">init<a aria-hidden="true" class="hash-link" href="#init" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>init</strong>&lt;<code>T</code>&gt;<!-- -->(<code>_opts?</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Create a new automerge document</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-19">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-19" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of value contained in the document. This will be the type that is passed to the change closure in <a href="/docs/tsapi/namespaces/unstable/#change">change</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-16">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-16" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_opts?</code></td><td align="left"><code>string</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#initoptions"><code>InitOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">Either an actorId or an <a href="/docs/tsapi/namespaces/unstable/#initoptions">InitOptions</a> (which may contain an actorId). If this is null the document will be initialised with a random actor ID</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-16">Returns<a aria-hidden="true" class="hash-link" href="#returns-16" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-29">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-29" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L124" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:124</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="isautomerge">isAutomerge<a aria-hidden="true" class="hash-link" href="#isautomerge" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>isAutomerge</strong>(<code>doc</code>): <code>boolean</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-17">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-17" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><code>unknown</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-17">Returns<a aria-hidden="true" class="hash-link" href="#returns-17" title="Direct link to heading">â€‹</a></h4><p><code>boolean</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-30">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-30" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L909" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:909</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="load">load<a aria-hidden="true" class="hash-link" href="#load" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>load</strong>&lt;<code>T</code>&gt;<!-- -->(<code>data</code>, <code>_opts?</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Load an automerge document from a compressed document produce by <a href="/docs/tsapi/namespaces/unstable/#save">save</a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-20">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-20" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of the value which is contained in the document. Note that no validation is done to make sure this type is in fact the type of the contained value so be a bit careful</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-18">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-18" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>data</code></td><td align="left"><code>Uint8Array</code></td><td align="left">The compressed document</td></tr><tr><td align="left"><code>_opts?</code></td><td align="left"><code>string</code> <!-- -->|<!-- --> <a href="/docs/tsapi/namespaces/unstable/#initoptions"><code>InitOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">Either an actor ID or some <a href="/docs/tsapi/namespaces/unstable/#initoptions">InitOptions</a>, if the actor ID is null a random actor ID will be created Note that <code>load</code> will throw an error if passed incomplete content (for example if you are receiving content over the network and don&#x27;t know if you have the complete document yet). If you need to handle incomplete content use <a href="/docs/tsapi/namespaces/unstable/#init">init</a> followed by <a href="/docs/tsapi/namespaces/unstable/#loadincremental">loadIncremental</a>.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-18">Returns<a aria-hidden="true" class="hash-link" href="#returns-18" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-31">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-31" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L194" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:194</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="loadincremental">loadIncremental<a aria-hidden="true" class="hash-link" href="#loadincremental" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>loadIncremental</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>data</code>, <code>opts?</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Load changes produced by saveIncremental, or partial changes</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-21">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-21" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of the value which is contained in the document. Note that no validation is done to make sure this type is in fact the type of the contained value so be a bit careful</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-19">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-19" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">-</td></tr><tr><td align="left"><code>data</code></td><td align="left"><code>Uint8Array</code></td><td align="left">The compressedchanges</td></tr><tr><td align="left"><code>opts?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#applyoptions"><code>ApplyOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">an <a href="/docs/tsapi/namespaces/unstable/#applyoptions">ApplyOptions</a> This function is useful when staying up to date with a connected peer. Perhaps the other end sent you a full compresed document which you loaded with <a href="/docs/tsapi/namespaces/unstable/#load">load</a> and they&#x27;re sending you the result of <a href="/docs/tsapi/namespaces/unstable/#getlastlocalchange">getLastLocalChange</a> every time they make a change. Note that this function will succesfully load the results of <a href="/docs/tsapi/namespaces/unstable/#save">save</a> as well as <a href="/docs/tsapi/namespaces/unstable/#getlastlocalchange">getLastLocalChange</a> or any other incremental change.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-19">Returns<a aria-hidden="true" class="hash-link" href="#returns-19" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-32">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-32" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L487" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:487</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="merge">merge<a aria-hidden="true" class="hash-link" href="#merge" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>merge</strong>&lt;<code>T</code>&gt;<!-- -->(<code>local</code>, <code>remote</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Merge <code>local</code> into <code>remote</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-22">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-22" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of values contained in each document</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-20">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-20" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>local</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document to merge changes into</td></tr><tr><td align="left"><code>remote</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document to merge changes from</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-20">Returns<a aria-hidden="true" class="hash-link" href="#returns-20" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><ul><li>The merged document</li></ul><p>Often when you are merging documents you will also need to clone them. Both
arguments to <code>merge</code> are frozen after the call so you can no longer call
mutating methods (such as <a href="/docs/tsapi/namespaces/unstable/#change">change</a>) on them. The symtom of this will be
an error which says &quot;Attempting to change an out of date document&quot;. To
overcome this call <a href="/docs/tsapi/namespaces/unstable/#clone">clone</a> on the argument before passing it to <a href="/docs/tsapi/namespaces/unstable/#merge">merge</a>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-33">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-33" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L535" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:535</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="save">save<a aria-hidden="true" class="hash-link" href="#save" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>save</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>): <code>Uint8Array</code></p><p>Export the contents of a document to a compressed format</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-23">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-23" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-21">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-21" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The doc to save The returned bytes can be passed to <a href="/docs/tsapi/namespaces/unstable/#load">load</a> or <a href="/docs/tsapi/namespaces/unstable/#loadincremental">loadIncremental</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-21">Returns<a aria-hidden="true" class="hash-link" href="#returns-21" title="Direct link to heading">â€‹</a></h4><p><code>Uint8Array</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-34">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-34" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L516" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:516</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="splice">splice<a aria-hidden="true" class="hash-link" href="#splice" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>splice</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>prop</code>, <code>index</code>, <code>del</code>, <code>newText?</code>): <code>undefined</code> <!-- -->|<!-- --> <code>string</code>[]</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-24">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-24" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-22">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-22" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td></tr><tr><td align="left"><code>prop</code></td><td align="left"><a href="/docs/tsapi/namespaces/#prop"><code>Prop</code></a></td></tr><tr><td align="left"><code>index</code></td><td align="left"><code>number</code></td></tr><tr><td align="left"><code>del</code></td><td align="left"><code>number</code></td></tr><tr><td align="left"><code>newText?</code></td><td align="left"><code>string</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-22">Returns<a aria-hidden="true" class="hash-link" href="#returns-22" title="Direct link to heading">â€‹</a></h4><p><code>undefined</code> <!-- -->|<!-- --> <code>string</code>[]</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-35">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-35" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/unstable.ts#L213" target="_blank" rel="noopener noreferrer">automerge/javascript/src/unstable.ts:213</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="view">view<a aria-hidden="true" class="hash-link" href="#view" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>view</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>heads</code>): <a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><p>Make an immutable view of an automerge document as at <code>heads</code></p><p><strong><code>Remarks</code></strong></p><p>The document returned from this function cannot be passed to <a href="/docs/tsapi/namespaces/unstable/#change">change</a>.
This is because it shares the same underlying memory as <code>doc</code>, but it is
consequently a very cheap copy.</p><p>Note that this function will throw an error if any of the hashes in <code>heads</code>
are not in the document.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-25">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-25" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>T</code></td><td align="left">The type of the value contained in the document</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-23">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-23" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The document to create a view of</td></tr><tr><td align="left"><code>heads</code></td><td align="left"><a href="/docs/tsapi/namespaces/#heads"><code>Heads</code></a></td><td align="left">The hashes of the heads to create a view at</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-23">Returns<a aria-hidden="true" class="hash-link" href="#returns-23" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-36">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-36" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L197" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:197</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="sync">sync<a aria-hidden="true" class="hash-link" href="#sync" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="decodesyncstate">decodeSyncState<a aria-hidden="true" class="hash-link" href="#decodesyncstate" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>decodeSyncState</strong>(<code>state</code>): <a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></p><p>Decode some binary data into a <a href="/docs/tsapi/interfaces/SyncState/">SyncState</a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-24">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-24" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>state</code></td><td align="left"><code>Uint8Array</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-24">Returns<a aria-hidden="true" class="hash-link" href="#returns-24" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-37">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-37" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L771" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:771</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="encodesyncstate">encodeSyncState<a aria-hidden="true" class="hash-link" href="#encodesyncstate" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>encodeSyncState</strong>(<code>state</code>): <code>Uint8Array</code></p><p>encode a <a href="/docs/tsapi/interfaces/SyncState/">SyncState</a> into binary to send over the network</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-25">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-25" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th></tr></thead><tbody><tr><td align="left"><code>state</code></td><td align="left"><a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-25">Returns<a aria-hidden="true" class="hash-link" href="#returns-25" title="Direct link to heading">â€‹</a></h4><p><code>Uint8Array</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-38">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-38" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L759" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:759</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="generatesyncmessage">generateSyncMessage<a aria-hidden="true" class="hash-link" href="#generatesyncmessage" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>generateSyncMessage</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>inState</code>): [<a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a>, <a href="/docs/tsapi/namespaces/unstable/#syncmessage"><code>SyncMessage</code></a> <!-- -->|<!-- --> <code>null</code>]</p><p>Generate a sync message to send to the peer represented by <code>inState</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-26">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-26" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-26">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-26" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The doc to generate messages about</td></tr><tr><td align="left"><code>inState</code></td><td align="left"><a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></td><td align="left">The <a href="/docs/tsapi/interfaces/SyncState/">SyncState</a> representing the peer we are talking to</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-26">Returns<a aria-hidden="true" class="hash-link" href="#returns-26" title="Direct link to heading">â€‹</a></h4><p>[<a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a>, <a href="/docs/tsapi/namespaces/unstable/#syncmessage"><code>SyncMessage</code></a> <!-- -->|<!-- --> <code>null</code>]</p><p>An array of <code>[newSyncState, syncMessage | null]</code> where
<code>newSyncState</code> should replace <code>inState</code> and <code>syncMessage</code> should be sent to
the peer if it is not null. If <code>syncMessage</code> is null then we are up to date.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-39">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-39" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L789" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:789</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="initsyncstate">initSyncState<a aria-hidden="true" class="hash-link" href="#initsyncstate" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>initSyncState</strong>(): <a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></p><p>Create a new, blank <a href="/docs/tsapi/interfaces/SyncState/">SyncState</a></p><p>When communicating with a peer for the first time use this to generate a new
<a href="/docs/tsapi/interfaces/SyncState/">SyncState</a> for them</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-27">Returns<a aria-hidden="true" class="hash-link" href="#returns-27" title="Direct link to heading">â€‹</a></h4><p><a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-40">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-40" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L854" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:854</a></p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="receivesyncmessage">receiveSyncMessage<a aria-hidden="true" class="hash-link" href="#receivesyncmessage" title="Direct link to heading">â€‹</a></h3><p>â–¸ <strong>receiveSyncMessage</strong>&lt;<code>T</code>&gt;<!-- -->(<code>doc</code>, <code>inState</code>, <code>message</code>, <code>opts?</code>): [<a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;<!-- -->, <a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a>, <code>null</code>]</p><p>Update a document and our sync state on receiving a sync message</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="type-parameters-27">Type parameters<a aria-hidden="true" class="hash-link" href="#type-parameters-27" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><code>T</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters-27">Parameters<a aria-hidden="true" class="hash-link" href="#parameters-27" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>doc</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;</td><td align="left">The doc the sync message is about</td></tr><tr><td align="left"><code>inState</code></td><td align="left"><a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a></td><td align="left">The <a href="/docs/tsapi/interfaces/SyncState/">SyncState</a> for the peer we are communicating with</td></tr><tr><td align="left"><code>message</code></td><td align="left"><code>Uint8Array</code></td><td align="left">The message which was received</td></tr><tr><td align="left"><code>opts?</code></td><td align="left"><a href="/docs/tsapi/namespaces/unstable/#applyoptions"><code>ApplyOptions</code></a>&lt;<code>T</code>&gt;</td><td align="left">Any ApplyOptions, used for passing a <a href="/docs/tsapi/namespaces/unstable/#patchcallback">PatchCallback</a> which will be informed of any changes in <code>doc</code> which occur because of the received sync message.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returns-28">Returns<a aria-hidden="true" class="hash-link" href="#returns-28" title="Direct link to heading">â€‹</a></h4><p>[<a href="/docs/tsapi/namespaces/unstable/#doc"><code>Doc</code></a>&lt;<code>T</code>&gt;<!-- -->, <a href="/docs/tsapi/interfaces/SyncState/"><code>SyncState</code></a>, <code>null</code>]</p><p>An array of <code>[newDoc, newSyncState, syncMessage | null]</code> where
<code>newDoc</code> is the updated state of <code>doc</code>, <code>newSyncState</code> should replace
<code>inState</code> and <code>syncMessage</code> should be sent to the peer if it is not null. If
<code>syncMessage</code> is null then we are up to date.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="defined-in-41">Defined in<a aria-hidden="true" class="hash-link" href="#defined-in-41" title="Direct link to heading">â€‹</a></h4><p><a href="https://github.com/automerge/automerge-rs/blob/89a08662/javascript/src/stable.ts#L817" target="_blank" rel="noopener noreferrer">automerge/javascript/src/stable.ts:817</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tsapi/index/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tsapi/classes/Text/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Text<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#differences-from-stable" class="table-of-contents__link toc-highlight">Differences from stable</a></li><li><a href="#changelog" class="table-of-contents__link toc-highlight">CHANGELOG</a></li><li><a href="#classes" class="table-of-contents__link toc-highlight">Classes</a></li><li><a href="#type-aliases" class="table-of-contents__link toc-highlight">Type Aliases</a><ul><li><a href="#applyoptions" class="table-of-contents__link toc-highlight">ApplyOptions</a></li><li><a href="#automergevalue" class="table-of-contents__link toc-highlight">AutomergeValue</a></li><li><a href="#changefn" class="table-of-contents__link toc-highlight">ChangeFn</a></li><li><a href="#changeoptions" class="table-of-contents__link toc-highlight">ChangeOptions</a></li><li><a href="#delpatch" class="table-of-contents__link toc-highlight">DelPatch</a></li><li><a href="#doc" class="table-of-contents__link toc-highlight">Doc</a></li><li><a href="#incpatch" class="table-of-contents__link toc-highlight">IncPatch</a></li><li><a href="#initoptions" class="table-of-contents__link toc-highlight">InitOptions</a></li><li><a href="#insertpatch" class="table-of-contents__link toc-highlight">InsertPatch</a></li><li><a href="#patch" class="table-of-contents__link toc-highlight">Patch</a></li><li><a href="#patchcallback" class="table-of-contents__link toc-highlight">PatchCallback</a></li><li><a href="#putpatch" class="table-of-contents__link toc-highlight">PutPatch</a></li><li><a href="#scalarvalue" class="table-of-contents__link toc-highlight">ScalarValue</a></li><li><a href="#splicetextpatch" class="table-of-contents__link toc-highlight">SpliceTextPatch</a></li><li><a href="#syncmessage" class="table-of-contents__link toc-highlight">SyncMessage</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#applychanges" class="table-of-contents__link toc-highlight">applyChanges</a></li><li><a href="#change" class="table-of-contents__link toc-highlight">change</a></li><li><a href="#clone" class="table-of-contents__link toc-highlight">clone</a></li><li><a href="#emptychange" class="table-of-contents__link toc-highlight">emptyChange</a></li><li><a href="#free" class="table-of-contents__link toc-highlight">free</a></li><li><a href="#from" class="table-of-contents__link toc-highlight">from</a></li><li><a href="#getactorid" class="table-of-contents__link toc-highlight">getActorId</a></li><li><a href="#getallchanges" class="table-of-contents__link toc-highlight">getAllChanges</a></li><li><a href="#getchanges" class="table-of-contents__link toc-highlight">getChanges</a></li><li><a href="#getconflicts" class="table-of-contents__link toc-highlight">getConflicts</a></li><li><a href="#getheads" class="table-of-contents__link toc-highlight">getHeads</a></li><li><a href="#getlastlocalchange" class="table-of-contents__link toc-highlight">getLastLocalChange</a></li><li><a href="#getmissingdeps" class="table-of-contents__link toc-highlight">getMissingDeps</a></li><li><a href="#getobjectid" class="table-of-contents__link toc-highlight">getObjectId</a></li><li><a href="#init" class="table-of-contents__link toc-highlight">init</a></li><li><a href="#isautomerge" class="table-of-contents__link toc-highlight">isAutomerge</a></li><li><a href="#load" class="table-of-contents__link toc-highlight">load</a></li><li><a href="#loadincremental" class="table-of-contents__link toc-highlight">loadIncremental</a></li><li><a href="#merge" class="table-of-contents__link toc-highlight">merge</a></li><li><a href="#save" class="table-of-contents__link toc-highlight">save</a></li><li><a href="#splice" class="table-of-contents__link toc-highlight">splice</a></li><li><a href="#view" class="table-of-contents__link toc-highlight">view</a></li></ul></li><li><a href="#sync" class="table-of-contents__link toc-highlight">sync</a><ul><li><a href="#decodesyncstate" class="table-of-contents__link toc-highlight">decodeSyncState</a></li><li><a href="#encodesyncstate" class="table-of-contents__link toc-highlight">encodeSyncState</a></li><li><a href="#generatesyncmessage" class="table-of-contents__link toc-highlight">generateSyncMessage</a></li><li><a href="#initsyncstate" class="table-of-contents__link toc-highlight">initSyncState</a></li><li><a href="#receivesyncmessage" class="table-of-contents__link toc-highlight">receiveSyncMessage</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/introduction/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/automerge/shared_invite/zt-e4p3760n-kKh7r3KRH1YwwNfiZM8ktw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://inkandswitch.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Ink &amp; Switch<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/automerge/automerge" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Automerge contributors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e8eab814.js"></script>
<script src="/assets/js/main.e2ff72e2.js"></script>
</body>
</html>